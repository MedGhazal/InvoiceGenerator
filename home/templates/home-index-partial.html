{% load i18n %}
<h1>{% translate 'Home' %}</h1>
{% if messages %}
<div class="messages-content">
  <ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
      {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}{% translate 'Error' %}: {% endif %}
      {{ message }}
    </li>
    {% endfor %}
  </ul>
</div>
{% endif %}
<div class="filter-form-wrapper">
  <form hx-get="{% url 'home:index' %}" hx-target="main" hx-indicator="#indicator" hx-swap="innerHTML" class="filter-form">
    <div class="form-main">
      <h2>{% translate "HomeCONTROLSText" %}</h2>
      {% csrf_token %}
      {{ form }}
    </div>
    <div class="form-footer">
      <button class="submit-button" type="submit">{% translate "Submit" %}</button>
    </div>
  </form>
</div>
<div class="home-main">
  <div class="home-main-text">
  {% blocktranslate with beginDate=beginDate endDate=endDate %}
  HomeMAINText for the period of {{ beginDate }} to {{ endDate }}
  {% endblocktranslate %}
  </div>
  <table class="StateTable"><thead>
    <tr>
      <th class="HeaderColumn">{% translate "PaymentMode" %}</th>
      <th colspan="{{ numCurrencies }}">{% translate "Amount" %}</th>
    </tr></thead>
    <tbody>
      <tr>
        <td class="HeaderColumn">{% translate "Bank Transfer" %}</td>
        {% for amountPayedCash in paymentMethodDistribution.TR %}
        <td>{{ amountPayedCash }}</td>
        {% endfor %}
      </tr>
      <tr>
        <td class="HeaderColumn">{% translate "Cash Payment" %}</td>
        {% for amountPayedTransfer in paymentMethodDistribution.CS %}
        <td>{{ amountPayedTransfer }}</td>
        {% endfor %}
      </tr>
      <tr>
        <td class="HeaderColumn">{% translate "Check" %}</td>
        {% for amountPayedCheck in paymentMethodDistribution.CK %}
        <td>{{ amountPayedCheck }}</td>
        {% endfor %}
      </tr>
      <tr>
        <td class="HeaderColumn">{% translate "CreditCard" %}</td>
        {% for amountPayedDivers in paymentMethodDistribution.CD %}
        <td>{{ amountPayedDivers }}</td>
        {% endfor %}
      </tr>
      <tr>
        <td class="HeaderColumn">{% translate "DebitCard" %}</td>
        {% for amountPayedDivers in paymentMethodDistribution.DC %}
        <td>{{ amountPayedDivers }}</td>
        {% endfor %}
      </tr>
      <tr>
        <td class="HeaderColumn">{% translate "DirectDebit" %}</td>
        {% for amountPayedDivers in paymentMethodDistribution.DD %}
        <td>{{ amountPayedDivers }}</td>
        {% endfor %}
      </tr>
      <tr>
        <td class="HeaderColumn">{% translate "BillOfExchange" %}</td>
        {% for amountPayedDivers in paymentMethodDistribution.BE %}
        <td>{{ amountPayedDivers }}</td>
        {% endfor %}
      </tr>
    </tbody>
  </table>
  <table class="StateTable"><thead>
    <tr>
      <th>{% translate "Nature" %}</th>
      <th>{% translate "Amount" %}</th>
    </tr></thead>
    <tbody>
      {% for projectInformation in projectsInformation %}
      {% if projectInformation.1 != '-' %}   
      <tr>
        <td>{{ projectInformation.0 }}</td>
        <td>{{ projectInformation.1 }}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>
    <tfoot>
      {% for totalTurnover in totalTurnovers %}
      <tr>
        {% if forloop.counter0 == 0 %}
        <th>{% translate "TotalTurnover" %}</th>
        {% else %}
        <th></th>
        {% endif %}
        <td>{{ totalTurnover }}</td>
      </tr>
      {% endfor %}
    </tfoot>
  </table>
  <table class="StateTable"><thead>
    <tr>
      <th>{% translate "INVOICEE" %}</th>
      <th>{% translate "Country" %}</th>
      <th>{% translate "OutStanding" %}</th>
      <th>{% translate "TotalPaidAmoint" %}</th>
    </tr></thead>
    <tbody>
      {% for invoiceeInformation in invoiceesInformation %}
      {% if invoiceeInformation.2 != '-' %}
      <tr>
        <td>{{ invoiceeInformation.0 }}</td>
        <td>{{ invoiceeInformation.1 }}</td>
        <td>{{ invoiceeInformation.2 }}</td>
        <td>{{ invoiceeInformation.3 }}</td>
      </tr>
      {% endif %}
      {% endfor %}
    </tbody>
  </table>
  <table class="StateTable"><thead>
    <tr>
      <th>{% translate "Currency" %}</th>
      <th>{% translate "NumInvoices" %}</th>
      <th>{% translate "OutStandingInvoices" %}</th>
      <th>{% translate "AmountOutStandingInvoices" %}</th>
      <th>{% translate "SumVATPeriode" %}</th>
      <th>{% translate "SumBeforeVATPeriode" %}</th>
      <th>{% translate "SumAfterVATPeriod" %}</th>
    </tr></thead>
    <tbody>
      {% for currency, invoiceInformation in invoicesInformation.items %}
      <tr>
        <td>{{ invoiceInformation.0 }}</td>
        <td>{{ invoiceInformation.1 }}</td>
        <td>{{ invoiceInformation.2 }}</td>
        <td>{{ invoiceInformation.3 }}</td>
        <td>{{ invoiceInformation.4 }}</td>
        <td>{{ invoiceInformation.5 }}</td>
        <td>{{ invoiceInformation.6 }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="home-main-text-muted">{% translate "HomeMAINTextFooter" %}</div>
</div>
